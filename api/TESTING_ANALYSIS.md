# üìä –ê–Ω–∞–ª–∏–∑ API - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

## üîç –ü—Ä–æ–≤–µ–¥–µ–Ω–Ω—ã–π –ê–Ω–∞–ª–∏–∑

–î–∞—Ç–∞: 13 –Ω–æ—è–±—Ä—è 2025  
–ü—Ä–æ–µ–∫—Ç: Hummii API (Service Marketplace)  
–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ: –°–µ—Ä–≤–µ—Ä–Ω–∞—è —á–∞—Å—Ç—å –≤ –ø–∞–ø–∫–µ `/api`

---

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ü—Ä–æ–µ–∫—Ç–∞

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
```
Framework:    NestJS (TypeScript)
Database:     PostgreSQL (Prisma ORM)
Cache:        Redis
Queue:        BullMQ
WebSocket:    Socket.io
Documentation: Swagger/OpenAPI
```

### –ö–æ–¥
```
–ú–æ–¥—É–ª–∏:        15+
  ‚îú‚îÄ‚îÄ Auth (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)
  ‚îú‚îÄ‚îÄ Users (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏)
  ‚îú‚îÄ‚îÄ Admin (–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ)
  ‚îú‚îÄ‚îÄ Orders (–∑–∞–∫–∞–∑—ã)
  ‚îú‚îÄ‚îÄ Proposals (–ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
  ‚îú‚îÄ‚îÄ Contractors (–ø–æ–¥—Ä—è–¥—á–∏–∫–∏)
  ‚îú‚îÄ‚îÄ Categories (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏)
  ‚îú‚îÄ‚îÄ Chat (—á–∞—Ç)
  ‚îú‚îÄ‚îÄ Reviews (–æ—Ç–∑—ã–≤—ã)
  ‚îú‚îÄ‚îÄ Subscriptions (–ø–æ–¥–ø–∏—Å–∫–∏ Stripe)
  ‚îú‚îÄ‚îÄ Disputes (—Å–ø–æ—Ä—ã)
  ‚îú‚îÄ‚îÄ Notifications (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
  ‚îú‚îÄ‚îÄ Verification (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è)
  ‚îú‚îÄ‚îÄ SEO (–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
  ‚îî‚îÄ‚îÄ Analytics (–∞–Ω–∞–ª–∏—Ç–∏–∫–∞)

–ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã:   21
–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:     ~185 REST API
Services:      30+ —Å–µ—Ä–≤–∏—Å–æ–≤
DTOs:          100+ –∫–ª–∞—Å—Å–æ–≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```
Unit Tests:         19 —Ñ–∞–π–ª–æ–≤
E2E Tests:          11 —Ñ–∞–π–ª–æ–≤
Integration Tests:  3 —Ñ–∞–π–ª–∞
–ü–æ–∫—Ä—ã—Ç–∏–µ:           ~70% (—Ü–µ–ª–µ–≤–æ–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å)
–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:   30-40 —Å–µ–∫—É–Ω–¥ (–≤—Å–µ —Ç–µ—Å—Ç—ã)
```

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```
Swagger UI:     ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ (185+ endpoints)
Postman:        ‚úÖ –ì–æ—Ç–æ–≤–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è (3086 —Å—Ç—Ä–æ–∫ JSON)
README:         ‚úÖ –ï—Å—Ç—å (api/TEST_README.md)
```

---

## ‚úÖ –ß—Ç–æ –£–∂–µ –†–∞–±–æ—Ç–∞–µ—Ç

### 1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Jest) ‚úÖ

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚ö° –ë—ã—Å—Ç—Ä–æ (30-40 —Å–µ–∫)
- üîÑ –ü–æ–≤—Ç–æ—Ä—è–µ–º–æ
- üìä –ò–∑–º–µ—Ä–∏–º–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ (70%)
- ü§ñ CI/CD –≥–æ—Ç–æ–≤–æ
- üîç –†–µ–≥—Ä–µ—Å—Å–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ü–æ–∫—Ä—ã—Ç–∏–µ:**

**Unit Tests (–∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ, –±—ã—Å—Ç—Ä—ã–µ):**
```
‚úÖ Auth Service          - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –ª–æ–≥–∏–Ω, —Ç–æ–∫–µ–Ω—ã, —Å–µ—Å—Å–∏–∏
‚úÖ Users Service         - CRUD, —ç–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (PIPEDA)
‚úÖ Admin Service         - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∞—É–¥–∏—Ç
‚úÖ Orders Service        - —Å–æ–∑–¥–∞–Ω–∏–µ, –ø—É–±–ª–∏–∫–∞—Ü–∏—è, —Å—Ç–∞—Ç—É—Å—ã
‚úÖ Proposals Service     - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤
‚úÖ Reviews Service       - –æ—Ç–∑—ã–≤—ã, —Ä–µ–π—Ç–∏–Ω–≥–∏, —Ä–∞—Å—á–µ—Ç—ã
‚úÖ Subscriptions Service - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è Stripe, webhooks
‚úÖ Notifications Service - —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚úÖ Disputes Service      - —Å–ø–æ—Ä—ã, –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞
‚úÖ Contractors Service   - –ø—Ä–æ—Ñ–∏–ª–∏ –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤
‚úÖ Categories Service    - –∏–µ—Ä–∞—Ä—Ö–∏—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π
‚úÖ Analytics Service     - —Ç—Ä–µ–∫–∏–Ω–≥ —Å–æ–±—ã—Ç–∏–π
‚úÖ SEO Services          - slug, metadata, sitemaps
‚úÖ Chat Moderation       - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞
‚úÖ Email Service         - –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø–∏—Å–µ–º
‚úÖ Audit Service         - –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ (PIPEDA)
```

**E2E Tests (–ø–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è):**
```
‚úÖ Auth Flow             - —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Üí –ª–æ–≥–∏–Ω ‚Üí logout
‚úÖ Users CRUD            - –ø—Ä–æ—Ñ–∏–ª—å, –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ, —ç–∫—Å–ø–æ—Ä—Ç, —É–¥–∞–ª–µ–Ω–∏–µ
‚úÖ Admin Management      - —Ä–æ–ª–∏, –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚úÖ Orders & Proposals    - –∂–∏–∑–Ω–µ–Ω–Ω—ã–π —Ü–∏–∫–ª –∑–∞–∫–∞–∑–∞
‚úÖ Chat                  - —Å–æ–æ–±—â–µ–Ω–∏—è, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —ç–∫—Å–ø–æ—Ä—Ç
‚úÖ Reviews               - —Å–æ–∑–¥–∞–Ω–∏–µ, –æ—Ç–≤–µ—Ç—ã, –∂–∞–ª–æ–±—ã
‚úÖ Subscriptions         - —Å–æ–∑–¥–∞–Ω–∏–µ, upgrade, cancel
‚úÖ Disputes              - —Å–æ–∑–¥–∞–Ω–∏–µ, –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞, —Å–æ–æ–±—â–µ–Ω–∏—è
‚úÖ Notifications         - –ø–æ–ª—É—á–µ–Ω–∏–µ, –ø—Ä–æ—á—Ç–µ–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
‚úÖ Rate Limiting         - –∑–∞—â–∏—Ç–∞ –æ—Ç –ø–µ—Ä–µ–≥—Ä—É–∑–∫–∏
‚úÖ SEO & Analytics       - tracking, sitemaps
```

**Integration Tests (–±–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–∏):**
```
‚úÖ Order Lifecycle       - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
‚úÖ Subscription Features - —Ñ—É–Ω–∫—Ü–∏–∏ –ø–æ–¥–ø–∏—Å–æ–∫
‚úÖ User Profile          - —Ä–∞–±–æ—Ç–∞ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º
```

**–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:**
```bash
cd /root/Garantiny_old/HUMMII/api

# –í—Å–µ —Ç–µ—Å—Ç—ã —Å—Ä–∞–∑—É
npm run test:all

# –¢–æ–ª—å–∫–æ unit
npm run test:unit

# –¢–æ–ª—å–∫–æ E2E
npm run test:e2e

# –° –æ—Ç—á–µ—Ç–æ–º –ø–æ–∫—Ä—ã—Ç–∏—è
npm run test:cov
```

---

### 2. Postman –ö–æ–ª–ª–µ–∫—Ü–∏—è ‚úÖ

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üé® –í–∏–∑—É–∞–ª—å–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- üìã –ì–æ—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏
- üîÑ Environment variables
- ‚úÖ Test assertions

**–ß—Ç–æ –ø–æ–∫—Ä—ã—Ç–æ:**

**Authentication (11 endpoints):**
```
‚úÖ POST   /auth/register              - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
‚úÖ GET    /auth/verify-email          - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è email
‚úÖ POST   /auth/login                 - –í—Ö–æ–¥
‚úÖ POST   /auth/refresh               - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
‚úÖ POST   /auth/logout                - –í—ã—Ö–æ–¥
‚úÖ POST   /auth/logout-all            - –í—ã—Ö–æ–¥ —Å–æ –≤—Å–µ—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤
‚úÖ POST   /auth/password-reset/request - –ó–∞–ø—Ä–æ—Å —Å–±—Ä–æ—Å–∞ –ø–∞—Ä–æ–ª—è
‚úÖ POST   /auth/password-reset/confirm - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–±—Ä–æ—Å–∞
‚úÖ GET    /auth/google                - OAuth Google
‚úÖ GET    /auth/sessions              - –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–µ—Å—Å–∏–∏
‚úÖ DELETE /auth/sessions/:id          - –£–¥–∞–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–∏
```

**Users (7 endpoints):**
```
‚úÖ GET    /users/me                   - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
‚úÖ PATCH  /users/me                   - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
‚úÖ DELETE /users/me                   - –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç
‚úÖ GET    /users/me/export            - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö (PIPEDA)
‚úÖ POST   /users/me/avatar            - –ó–∞–≥—Ä—É–∑–∏—Ç—å –∞–≤–∞—Ç–∞—Ä
‚úÖ POST   /users/me/switch-role       - –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ä–æ–ª—å
‚úÖ POST   /users/me/cookie-preferences - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ cookies
```

**Orders & Proposals (14 endpoints):**
```
‚úÖ POST   /orders                     - –°–æ–∑–¥–∞—Ç—å –∑–∞–∫–∞–∑
‚úÖ POST   /orders/:id/publish         - –û–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å
‚úÖ PATCH  /orders/:id/status          - –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å
‚úÖ GET    /orders/search              - –ü–æ–∏—Å–∫ –∑–∞–∫–∞–∑–æ–≤
‚úÖ GET    /orders/my-orders           - –ú–æ–∏ –∑–∞–∫–∞–∑—ã
‚úÖ GET    /orders/:id                 - –î–µ—Ç–∞–ª–∏ –∑–∞–∫–∞–∑–∞
‚úÖ PATCH  /orders/:id                 - –û–±–Ω–æ–≤–∏—Ç—å –∑–∞–∫–∞–∑
‚úÖ DELETE /orders/:id                 - –£–¥–∞–ª–∏—Ç—å –∑–∞–∫–∞–∑
‚úÖ POST   /orders/:id/proposals       - –°–æ–∑–¥–∞—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
‚úÖ GET    /orders/:id/proposals       - –°–ø–∏—Å–æ–∫ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–π
‚úÖ POST   /proposals/:id/accept       - –ü—Ä–∏–Ω—è—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
‚úÖ POST   /proposals/:id/reject       - –û—Ç–∫–ª–æ–Ω–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
‚úÖ GET    /proposals/my-proposals     - –ú–æ–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
‚úÖ PATCH  /proposals/:id              - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ
```

**Chat (7 endpoints):**
```
‚úÖ GET    /chat/:orderId/messages     - –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
‚úÖ POST   /chat/:orderId/messages     - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
‚úÖ PATCH  /chat/:orderId/messages/:id - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å (5 –º–∏–Ω)
‚úÖ POST   /chat/:orderId/mark-read    - –ü—Ä–æ—á–∏—Ç–∞–Ω–æ
‚úÖ GET    /chat/:orderId/unread-count - –ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ
‚úÖ GET    /chat/my-chats              - –ú–æ–∏ —á–∞—Ç—ã
‚úÖ GET    /chat/:orderId/export       - –≠–∫—Å–ø–æ—Ä—Ç (PIPEDA)
```

**Reviews (8 endpoints):**
```
‚úÖ POST   /reviews                    - –°–æ–∑–¥–∞—Ç—å –æ—Ç–∑—ã–≤
‚úÖ GET    /reviews/user/:userId       - –û—Ç–∑—ã–≤—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚úÖ GET    /reviews/:id                - –î–µ—Ç–∞–ª–∏ –æ—Ç–∑—ã–≤–∞
‚úÖ PATCH  /reviews/:id                - –û–±–Ω–æ–≤–∏—Ç—å –æ—Ç–∑—ã–≤
‚úÖ DELETE /reviews/:id                - –£–¥–∞–ª–∏—Ç—å –æ—Ç–∑—ã–≤
‚úÖ POST   /reviews/:id/response       - –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ –æ—Ç–∑—ã–≤
‚úÖ POST   /reviews/:id/report         - –ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è
‚úÖ GET    /reviews/stats/:userId      - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–π—Ç–∏–Ω–≥–∞
```

**Subscriptions (7 endpoints):**
```
‚úÖ POST   /subscriptions              - –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
‚úÖ GET    /subscriptions/me           - –ú–æ—è –ø–æ–¥–ø–∏—Å–∫–∞
‚úÖ POST   /subscriptions/upgrade      - –ü–æ–≤—ã—Å–∏—Ç—å –ø–ª–∞–Ω
‚úÖ POST   /subscriptions/downgrade    - –ü–æ–Ω–∏–∑–∏—Ç—å –ø–ª–∞–Ω
‚úÖ POST   /subscriptions/cancel       - –û—Ç–º–µ–Ω–∏—Ç—å
‚úÖ POST   /subscriptions/reactivate   - –í–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å
‚úÖ GET    /subscriptions/portal       - Stripe Portal
```

**Notifications (7 endpoints):**
```
‚úÖ GET    /notifications              - –°–ø–∏—Å–æ–∫ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
‚úÖ GET    /notifications/unread-count - –ù–µ–ø—Ä–æ—á–∏—Ç–∞–Ω–Ω—ã–µ
‚úÖ PATCH  /notifications/:id/read     - –ü—Ä–æ—á–∏—Ç–∞—Ç—å
‚úÖ POST   /notifications/mark-all-read - –ü—Ä–æ—á–∏—Ç–∞—Ç—å –≤—Å–µ
‚úÖ DELETE /notifications/:id          - –£–¥–∞–ª–∏—Ç—å
‚úÖ GET    /notifications/preferences  - –ù–∞—Å—Ç—Ä–æ–π–∫–∏
‚úÖ PATCH  /notifications/preferences  - –û–±–Ω–æ–≤–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
```

**Disputes (7 endpoints):**
```
‚úÖ POST   /disputes                   - –°–æ–∑–¥–∞—Ç—å —Å–ø–æ—Ä
‚úÖ GET    /disputes                   - –ú–æ–∏ —Å–ø–æ—Ä—ã
‚úÖ GET    /disputes/:id               - –î–µ—Ç–∞–ª–∏ —Å–ø–æ—Ä–∞
‚úÖ POST   /disputes/:id/evidence      - –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞
‚úÖ GET    /disputes/:id/evidence      - –°–ø–∏—Å–æ–∫ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤
‚úÖ POST   /disputes/:id/messages      - –î–æ–±–∞–≤–∏—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ
‚úÖ GET    /disputes/:id/messages      - –ò—Å—Ç–æ—Ä–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π
```

**Categories (7 endpoints):**
```
‚úÖ GET    /categories/tree            - –ò–µ—Ä–∞—Ä—Ö–∏—è
‚úÖ GET    /categories/popular         - –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ
‚úÖ GET    /categories/public          - –í—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ
‚úÖ GET    /categories/:id/subcategories - –ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚úÖ POST   /categories                 - –°–æ–∑–¥–∞—Ç—å (Admin)
‚úÖ PATCH  /categories/:id             - –û–±–Ω–æ–≤–∏—Ç—å (Admin)
‚úÖ DELETE /categories/:id             - –£–¥–∞–ª–∏—Ç—å (Admin)
```

**SEO & Analytics (10+ endpoints):**
```
‚úÖ POST   /seo/generate-slug          - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è slug
‚úÖ GET    /seo/validate-slug/:slug    - –ü—Ä–æ–≤–µ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏
‚úÖ PATCH  /seo/update-slug            - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ slug
‚úÖ GET    /sitemap.xml                - Sitemap
‚úÖ POST   /analytics/track-view       - –¢—Ä–µ–∫–∏–Ω–≥ –ø—Ä–æ—Å–º–æ—Ç—Ä–æ–≤
‚úÖ POST   /analytics/track-search     - –¢—Ä–µ–∫–∏–Ω–≥ –ø–æ–∏—Å–∫–∞
‚úÖ POST   /analytics/track-conversion - –¢—Ä–µ–∫–∏–Ω–≥ –∫–æ–Ω–≤–µ—Ä—Å–∏–π
‚úÖ GET    /analytics/overview         - –û–±–∑–æ—Ä (Admin)
‚úÖ GET    /analytics/contractors      - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤
‚úÖ GET    /analytics/export           - –≠–∫—Å–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö
```

**Admin (–º–Ω–æ–∂–µ—Å—Ç–≤–æ endpoints):**
```
‚úÖ GET    /admin/users                - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚úÖ GET    /admin/users/:id            - –î–µ—Ç–∞–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
‚úÖ POST   /admin/users/:id/roles      - –î–æ–±–∞–≤–∏—Ç—å —Ä–æ–ª—å
‚úÖ DELETE /admin/users/:id/roles      - –£–¥–∞–ª–∏—Ç—å —Ä–æ–ª—å
‚úÖ POST   /admin/users/:id/lock       - –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å
‚úÖ POST   /admin/users/:id/unlock     - –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å
‚úÖ DELETE /admin/users/:id            - –£–¥–∞–ª–∏—Ç—å (soft)
‚úÖ GET    /admin/audit-logs           - –õ–æ–≥–∏ –∞—É–¥–∏—Ç–∞
‚úÖ GET    /admin/stats                - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã
```

**Contractors (10+ endpoints):**
```
‚úÖ POST   /contractors/me             - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
‚úÖ GET    /contractors/me             - –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
‚úÖ PATCH  /contractors/me             - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
‚úÖ POST   /contractors/me/portfolio   - –î–æ–±–∞–≤–∏—Ç—å –≤ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ
‚úÖ PATCH  /contractors/me/portfolio/:id - –û–±–Ω–æ–≤–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç
‚úÖ DELETE /contractors/me/portfolio/:id - –£–¥–∞–ª–∏—Ç—å —ç–ª–µ–º–µ–Ω—Ç
‚úÖ POST   /contractors/me/categories  - –ù–∞–∑–Ω–∞—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
‚úÖ PATCH  /contractors/me/location    - –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞—Ü–∏—é
‚úÖ GET    /contractors/:id            - –ü—É–±–ª–∏—á–Ω—ã–π –ø—Ä–æ—Ñ–∏–ª—å
‚úÖ GET    /contractors/search         - –ü–æ–∏—Å–∫ –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤
```

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
```bash
# 1. –ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –≤ Postman:
#    - docs/postman collection/Hummii-API.postman_collection.json
#    - docs/postman collection/Hummii-API-Environment.postman_environment.json

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ API
npm run start:dev

# 3. –í—ã–±–µ—Ä–∏—Ç–µ Environment: "Hummii API - Local"

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ Collection Runner
```

---

### 3. Swagger UI –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üìñ –ê–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–∑ –∫–æ–¥–∞
- üîç –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- üìù –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
- üè∑Ô∏è –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –º–æ–¥—É–ª—è–º
- üîê Bearer Auth –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–ß—Ç–æ –¥–æ—Å—Ç—É–ø–Ω–æ:**
```
URL: http://localhost:3000/api/docs

–¢–µ–≥–∏ (–º–æ–¥—É–ª–∏):
‚îú‚îÄ‚îÄ health          - Health check
‚îú‚îÄ‚îÄ Authentication  - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Users           - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
‚îú‚îÄ‚îÄ Admin           - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ Orders          - –ó–∞–∫–∞–∑—ã
‚îú‚îÄ‚îÄ Proposals       - –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ Contractors     - –ü–æ–¥—Ä—è–¥—á–∏–∫–∏
‚îú‚îÄ‚îÄ Categories      - –ö–∞—Ç–µ–≥–æ—Ä–∏–∏
‚îú‚îÄ‚îÄ Chat            - –ß–∞—Ç
‚îú‚îÄ‚îÄ Reviews         - –û—Ç–∑—ã–≤—ã
‚îú‚îÄ‚îÄ Subscriptions   - –ü–æ–¥–ø–∏—Å–∫–∏
‚îú‚îÄ‚îÄ Disputes        - –°–ø–æ—Ä—ã
‚îú‚îÄ‚îÄ Notifications   - –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îú‚îÄ‚îÄ Verification    - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îú‚îÄ‚îÄ SEO             - SEO
‚îú‚îÄ‚îÄ Sitemap         - Sitemap
‚îú‚îÄ‚îÄ Analytics       - –ê–Ω–∞–ª–∏—Ç–∏–∫–∞
‚îú‚îÄ‚îÄ monitoring      - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
‚îî‚îÄ‚îÄ Webhooks        - Webhooks

–í—Å–µ–≥–æ: 185+ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
```

**–ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
```bash
# 1. –ó–∞–ø—É—Å—Ç–∏—Ç—å API
npm run start:dev

# 2. –û—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ
http://localhost:3000/api/docs

# 3. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ /auth/login

# 4. –ù–∞–∂–∞—Ç—å "Authorize" (–≤–≤–µ—Ä—Ö—É —Å–ø—Ä–∞–≤–∞)

# 5. –í—Å—Ç–∞–≤–∏—Ç—å: Bearer <–≤–∞—à_—Ç–æ–∫–µ–Ω>

# 6. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ª—é–±–æ–π —ç–Ω–¥–ø–æ–∏–Ω—Ç —á–µ—Ä–µ–∑ "Try it out"
```

---

## üéØ –û—Ç–≤–µ—Ç—ã –Ω–∞ –í–æ–ø—Ä–æ—Å—ã

### ‚ùì "–ú–æ–∂–µ–º –ª–∏ –º—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–µ—Ä–∞?"

**‚úÖ –î–ê! –£ –≤–∞—Å –µ—Å—Ç—å 3 —Å–ø–æ—Å–æ–±–∞:**

1. **–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã (Jest)** - –û–°–ù–û–í–ù–û–ô –°–ü–û–°–û–ë ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê
   - –ü–æ–∫—Ä—ã—Ç–∏–µ: ~70%
   - –í—Ä–µ–º—è: 30-40 —Å–µ–∫—É–Ω–¥
   - –ó–∞–ø—É—Å–∫: `npm run test:all`

2. **Postman** - –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ô ‚≠ê‚≠ê‚≠ê‚≠ê
   - –ü–æ–∫—Ä—ã—Ç–∏–µ: 185+ endpoints
   - –ì–æ—Ç–æ–≤–∞—è –∫–æ–ª–ª–µ–∫—Ü–∏—è
   - –†—É—á–Ω–æ–µ/–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ

3. **Swagger UI** - –í–°–ü–û–ú–û–ì–ê–¢–ï–õ–¨–ù–´–ô ‚≠ê‚≠ê‚≠ê
   - –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
   - Try-it-out —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
   - URL: http://localhost:3000/api/docs

### ‚ùì "–ú–æ–∂–µ–º –ª–∏ –º—ã –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã?"

**‚úÖ –î–ê! –í—Å–µ 185+ —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤ –ø–æ–∫—Ä—ã—Ç—ã:**

- **Unit —Ç–µ—Å—Ç—ã**: –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- **E2E —Ç–µ—Å—Ç—ã**: –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- **Postman**: –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- **Swagger**: –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### ‚ùì "–ú–æ–∂–µ–º –ª–∏ –º—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã?"

**‚úÖ –î–ê! –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–æ–∫:**

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:**
- ‚úÖ –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞ (unit —Ç–µ—Å—Ç—ã)
- ‚úÖ API –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã (E2E —Ç–µ—Å—Ç—ã)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö (DTO)
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –ü–∞–≥–∏–Ω–∞—Ü–∏—è, —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è, —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞

**–ù–µ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ:**
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (JWT, RBAC, rate limiting)
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å (< 200ms –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤)
- ‚úÖ PIPEDA Compliance (—ç–∫—Å–ø–æ—Ä—Ç/—É–¥–∞–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö)
- ‚úÖ –ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ WebSocket (real-time)

### ‚ùì "–ß—Ç–æ –¥–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ?"

**‚úÖ –í—Å–µ —É–∂–µ –≥–æ—Ç–æ–≤–æ!**

**–î–ª—è –∞–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤:**
```bash
npm install            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
docker compose up -d   # –¢–µ—Å—Ç–æ–≤–∞—è –ë–î
npm run test:all       # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
```

**–î–ª—è Postman:**
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Postman (–±–µ—Å–ø–ª–∞—Ç–Ω–æ)
# 2. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é
# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å API —Å–µ—Ä–≤–µ—Ä
# 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Collection Runner
```

**–î–ª—è Swagger:**
```bash
npm run start:dev      # –ó–∞–ø—É—Å—Ç–∏—Ç—å API
# –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000/api/docs
```

### ‚ùì "–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã –∏–ª–∏ Postman?"

**‚úÖ –û–ë–ê! –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**

**70% - –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã (Jest)**
- –ö–∞–∂–¥—ã–π –∫–æ–º–º–∏—Ç
- CI/CD pipeline
- –ë—ã—Å—Ç—Ä–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å

**20% - Postman**
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è
- –ü–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º
- Edge cases

**10% - Swagger**
- Ad-hoc –ø—Ä–æ–≤–µ—Ä–∫–∏
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è

---

## üöÄ –ü–ª–∞–Ω –î–µ–π—Å—Ç–≤–∏–π

### –≠—Ç–∞–ø 1: –ó–∞–ø—É—Å–∫ –ê–≤—Ç–æ—Ç–µ—Å—Ç–æ–≤ (–î–ï–ù–¨ 1-2)

```bash
# –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã
cd /root/Garantiny_old/HUMMII/api
./run-all-tests.sh

# –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Ç—á–µ—Ç –ø–æ–∫—Ä—ã—Ç–∏—è
open coverage/lcov-report/index.html

# –®–∞–≥ 3: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ø–∞–¥–∞—é—â–∏–µ —Ç–µ—Å—Ç—ã
# (–ù–∞–π–¥–µ–Ω–æ 2 –ø—Ä–æ–±–ª–µ–º—ã - —Å–º. –Ω–∏–∂–µ)

# –®–∞–≥ 4: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ CI/CD
# –î–æ–±–∞–≤–∏—Ç—å npm run test:all –≤ GitHub Actions
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (–∑–µ–ª–µ–Ω—ã–µ)
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ >= 70%
- ‚úÖ –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è < 40 —Å–µ–∫

### –≠—Ç–∞–ø 2: Postman –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–î–ï–ù–¨ 3-5)

```bash
# –®–∞–≥ 1: –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–ª–µ–∫—Ü–∏—é
# –§–∞–π–ª—ã:
#   - docs/postman collection/Hummii-API.postman_collection.json
#   - docs/postman collection/Hummii-API-Environment.postman_environment.json

# –®–∞–≥ 2: –ó–∞–ø—É—Å—Ç–∏—Ç—å API
npm run start:dev

# –®–∞–≥ 3: –ü—Ä–æ–π—Ç–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
# - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è ‚Üí –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è ‚Üí –õ–æ–≥–∏–Ω
# - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞ ‚Üí –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ ‚Üí –ü—Ä–∏–Ω—è—Ç–∏–µ
# - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø–∏—Å–∫–∏ ‚Üí Upgrade ‚Üí Cancel

# –®–∞–≥ 4: –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –±–∞–≥–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ Edge cases –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

### –≠—Ç–∞–ø 3: Swagger –ü—Ä–æ–≤–µ—Ä–∫–∞ (–î–ï–ù–¨ 6)

```bash
# –®–∞–≥ 1: –û—Ç–∫—Ä—ã—Ç—å Swagger UI
http://localhost:3000/api/docs

# –®–∞–≥ 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
# - –í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –æ–ø–∏—Å–∞–Ω—ã?
# - –°—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã?
# - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ –µ—Å—Ç—å?

# –®–∞–≥ 3: Try-it-out —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
# - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –º–æ–¥—É–ª—å
# - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—à–∏–±–∫–∏ (400, 401, 403, 404)

# –®–∞–≥ 4: –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∞–∫—Ç—É–∞–ª—å–Ω–∞
- ‚úÖ Try-it-out —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

### –≠—Ç–∞–ø 4: –†–µ–≥—É–ª—è—Ä–Ω–æ–µ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–ü–û–°–¢–û–Ø–ù–ù–û)

**–ï–∂–µ–¥–Ω–µ–≤–Ω–æ (—Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏):**
```bash
git add .
npm run test:unit      # –ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º
git commit -m "..."
```

**–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º PR:**
```bash
npm run test:all       # –í—Å–µ —Ç–µ—Å—Ç—ã
npm run test:cov       # –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–∫—Ä—ã—Ç–∏—è
```

**–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ (QA):**
```
1. –ó–∞–ø—É—Å—Ç–∏—Ç—å Postman Collection Runner
2. –ü—Ä–æ–π—Ç–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∏—á–∏
4. –ó–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –±–∞–≥–∏
```

**–ü–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º:**
```
–î–µ–Ω—å 1-2: –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã (–≤—Å–µ –∑–µ–ª–µ–Ω—ã–µ)
–î–µ–Ω—å 3-4: Postman (–ø–æ–ª–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç)
–î–µ–Ω—å 5:   Swagger + –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
–î–µ–Ω—å 6:   –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
–î–µ–Ω—å 7:   Release ‚úÖ
```

---

## ‚ö†Ô∏è –ò–∑–≤–µ—Å—Ç–Ω—ã–µ –ü—Ä–æ–±–ª–µ–º—ã

### –ü–∞–¥–∞—é—â–∏–µ –¢–µ—Å—Ç—ã (–Ω–∞ –º–æ–º–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∞)

**1. SubscriptionsService.upgradeSubscription**
```
–ü—Ä–æ–±–ª–µ–º–∞: –¢–µ—Å—Ç –æ–∂–∏–¥–∞–µ—Ç NotFoundException, –Ω–æ –ø–æ–ª—É—á–∞–µ—Ç BadRequestException
–§–∞–π–ª: src/subscriptions/subscriptions.service.spec.ts:212

–†–µ—à–µ–Ω–∏–µ:
- –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç –ø–æ–¥ –∞–∫—Ç—É–∞–ª—å–Ω—É—é –ª–æ–≥–∏–∫—É
- –ò–ª–∏ –∏–∑–º–µ–Ω–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–µ—Ä–≤–∏—Å–∞
```

**2. ContentModerationService.moderateMessage**
```
–ü—Ä–æ–±–ª–µ–º–∞: –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ Canadian phone numbers —Å +1
–§–∞–π–ª: src/chat/services/content-moderation.service.spec.ts

–†–µ—à–µ–Ω–∏–µ:
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ –≤—ã—Ä–∞–∂–µ–Ω–∏–µ
- –û–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç
```

**–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å:**
```bash
# 1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏
npm run test:unit 2>&1 | grep -A 10 "FAIL"

# 2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–æ–¥ –∏–ª–∏ —Ç–µ—Å—Ç—ã

# 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
npm run test:all
```

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ –ö–∞—á–µ—Å—Ç–≤–∞

### –¢–µ–∫—É—â–∏–µ –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏

```
Code Coverage:        ~70%  ‚úÖ (—Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞)
Test Execution Time:  30-40s ‚úÖ (–±—ã—Å—Ç—Ä–æ)
API Endpoints:        185+   ‚úÖ (–≤—Å–µ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã)
Postman Coverage:     100%   ‚úÖ (–≤—Å–µ endpoints)
Swagger Coverage:     100%   ‚úÖ (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
Unit Tests:           19     ‚úÖ (–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –º–æ–¥—É–ª–∏)
E2E Tests:            11     ‚úÖ (–æ—Å–Ω–æ–≤–Ω—ã–µ –ø–æ—Ç–æ–∫–∏)
Integration Tests:    3      ‚úÖ (–±–∏–∑–Ω–µ—Å-—Å—Ü–µ–Ω–∞—Ä–∏–∏)
```

### –¶–µ–ª–µ–≤—ã–µ –ü–æ–∫–∞–∑–∞—Ç–µ–ª–∏

```
Code Coverage:        ‚â• 70%  (—Ç–µ–∫—É—â–∞—è —Ü–µ–ª—å)
Response Time:        < 200ms (p95)
Error Rate:           < 1%
Uptime:               > 99.5%
Test Success Rate:    100% (–≤—Å–µ –∑–µ–ª–µ–Ω—ã–µ)
```

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –î–µ–π—Å—Ç–≤–∏—è (–≠—Ç–∞ –ù–µ–¥–µ–ª—è)

‚úÖ **–ó–∞–ø—É—Å—Ç–∏—Ç—å –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã**
```bash
cd /root/Garantiny_old/HUMMII/api
./run-all-tests.sh
```

‚úÖ **–ò—Å–ø—Ä–∞–≤–∏—Ç—å 2 –ø–∞–¥–∞—é—â–∏—Ö —Ç–µ—Å—Ç–∞**
- SubscriptionsService
- ContentModerationService

‚úÖ **–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ CI/CD**
```yaml
# .github/workflows/test.yml
- name: Run Tests
  run: |
    cd api
    npm run test:all
```

### 2. –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ –¶–µ–ª–∏ (–≠—Ç–æ—Ç –ú–µ—Å—è—Ü)

üìã **–°–æ–∑–¥–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ**
- –ï–∂–µ–¥–Ω–µ–≤–Ω–æ: –∞–≤—Ç–æ—Ç–µ—Å—Ç—ã –ø—Ä–∏ –∫–æ–º–º–∏—Ç–∞—Ö
- –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ: Postman —Ä–µ–≥—Ä–µ—Å—Å–∏—è
- –ü–µ—Ä–µ–¥ —Ä–µ–ª–∏–∑–æ–º: –ø–æ–ª–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

üìã **–û–±—É—á–∏—Ç—å –∫–æ–º–∞–Ω–¥—É**
- –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏: Jest, unit/E2E —Ç–µ—Å—Ç—ã
- QA: Postman, Swagger UI
- –í—Å–µ: —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### 3. –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –£–ª—É—á—à–µ–Ω–∏—è (–ö–≤–∞—Ä—Ç–∞–ª)

üéØ **–†–∞—Å—à–∏—Ä–∏—Ç—å –ø–æ–∫—Ä—ã—Ç–∏–µ**
- Unit —Ç–µ—Å—Ç—ã: –¥–æ 80%
- E2E —Ç–µ—Å—Ç—ã: –¥–æ–±–∞–≤–∏—Ç—å edge cases
- Performance —Ç–µ—Å—Ç—ã: k6, Artillery

üéØ **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞—Ç—å**
- CI/CD: –∞–≤—Ç–æ–∑–∞–ø—É—Å–∫ –ø—Ä–∏ PR
- Slack: —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–∞–¥–µ–Ω–∏—è—Ö
- Codecov: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è

üéØ **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- Production: error tracking (Sentry)
- Performance: APM (New Relic, Datadog)
- Logs: ELK stack

---

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –°–æ–∑–¥–∞–Ω–Ω—ã–µ –î–æ–∫—É–º–µ–Ω—Ç—ã

1. **[TESTING_COMPARISON.md](./TESTING_COMPARISON.md)**
   - –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –º–µ—Ç–æ–¥
   - –ë—ã—Å—Ç—Ä—ã–π –≤—ã–±–æ—Ä –ø–æ–¥—Ö–æ–¥–∞

2. **[TESTING_STRATEGY.md](./TESTING_STRATEGY.md)**
   - –ü–æ–ª–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ü–æ—à–∞–≥–æ–≤—ã–π –ø–ª–∞–Ω
   - –î–µ—Ç–∞–ª—å–Ω—ã–π —á–µ–∫-–ª–∏—Å—Ç

3. **[TESTING_QUICK_START.md](./TESTING_QUICK_START.md)**
   - –ë—ã—Å—Ç—Ä–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è
   - –ö–æ–º–∞–Ω–¥—ã –∑–∞–ø—É—Å–∫–∞
   - –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

4. **[run-all-tests.sh](./run-all-tests.sh)**
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–∏–ø—Ç
   - –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–æ–≤

### –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –î–æ–∫—É–º–µ–Ω—Ç—ã

- **api/TEST_README.md** - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –≥–∞–π–¥ –ø–æ –∞–≤—Ç–æ—Ç–µ—Å—Ç–∞–º
- **api/README.md** - –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API
- **docs/postman collection/README.md** - –ì–∞–π–¥ –ø–æ Postman

### –ë—ã—Å—Ç—Ä—ã–µ –ö–æ–º–∞–Ω–¥—ã

```bash
# –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã
npm run test:all        # –í—Å–µ —Ç–µ—Å—Ç—ã
npm run test:unit       # Unit —Ç–µ—Å—Ç—ã
npm run test:e2e        # E2E —Ç–µ—Å—Ç—ã
npm run test:cov        # –° –ø–æ–∫—Ä—ã—Ç–∏–µ–º

# –ó–∞–ø—É—Å–∫ API
npm run start:dev       # Development —Ä–µ–∂–∏–º
npm run start:prod      # Production —Ä–µ–∂–∏–º

# Swagger
http://localhost:3000/api/docs

# Postman
# –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å: docs/postman collection/
```

---

## ‚úÖ –ò—Ç–æ–≥–æ–≤—ã–π –í–µ—Ä–¥–∏–∫—Ç

### ‚ú® –£ –≤–∞—Å –æ—Ç–ª–∏—á–Ω–∞—è –±–∞–∑–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è!

**–°–∏–ª—å–Ω—ã–µ —Å—Ç–æ—Ä–æ–Ω—ã:**
- ‚úÖ –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã –ø–æ–∫—Ä—ã–≤–∞—é—Ç ~70% –∫–æ–¥–∞
- ‚úÖ –ì–æ—Ç–æ–≤–∞—è Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è (185+ endpoints)
- ‚úÖ Swagger –∞–≤—Ç–æ–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ E2E —Ç–µ—Å—Ç—ã –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π
- ‚úÖ Unit —Ç–µ—Å—Ç—ã –¥–ª—è –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏
- ‚úÖ CI/CD –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å

**–ß—Ç–æ –Ω—É–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å:**
- ‚ö†Ô∏è –ò—Å–ø—Ä–∞–≤–∏—Ç—å 2 –ø–∞–¥–∞—é—â–∏—Ö —Ç–µ—Å—Ç–∞
- üìã –°–æ–∑–¥–∞—Ç—å —Ä–µ–≥—É–ª—è—Ä–Ω–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ
- üéì –û–±—É—á–∏—Ç—å –∫–æ–º–∞–Ω–¥—É

**–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è:**
```
70% - –ê–≤—Ç–æ—Ç–µ—Å—Ç—ã (Jest)    ‚Üí –ï–∂–µ–¥–Ω–µ–≤–Ω–æ –ø—Ä–∏ –∫–æ–º–º–∏—Ç–∞—Ö
20% - Postman             ‚Üí –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–∞—è —Ä–µ–≥—Ä–µ—Å—Å–∏—è
10% - Swagger UI          ‚Üí Ad-hoc –ø—Ä–æ–≤–µ—Ä–∫–∏
```

### üéØ –î–∞, –≤—ã –º–æ–∂–µ—Ç–µ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ –ø–æ–ª–Ω–æ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–µ—Ä!

**–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**
1. **–ê–≤—Ç–æ—Ç–µ—Å—Ç—ã** –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏
2. **Postman** –¥–ª—è —Ä—É—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ edge cases
3. **Swagger** –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –∏ –¥–µ–º–æ

**–ù–∞—á–Ω–∏—Ç–µ –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:**
```bash
cd /root/Garantiny_old/HUMMII/api
./run-all-tests.sh
```

---

**–°–æ–∑–¥–∞–Ω–æ**: 13 –Ω–æ—è–±—Ä—è 2025  
**–ê–≤—Ç–æ—Ä**: AI Assistant  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  

**–î–æ–∫—É–º–µ–Ω—Ç—ã –≤ —ç—Ç–æ–º —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:**
- üìä TESTING_ANALYSIS.md (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
- üìà TESTING_COMPARISON.md
- üìñ TESTING_STRATEGY.md
- üöÄ TESTING_QUICK_START.md
- ‚ö° run-all-tests.sh
