# –°–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –∑–∞–∫–∞–∑—á–∏–∫–∞: –¢—Ä–µ–±—É–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

**–î–∞—Ç–∞:** 3 –Ω–æ—è–±—Ä—è 2025  
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∞ –Ω–∞ Cloudflare R2

---

## üìã –ß—Ç–æ –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –æ—Ç —Ç–µ–±—è:

### 1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å Google Account –¥–ª—è –ø—Ä–æ–µ–∫—Ç–∞

**–î–ª—è —á–µ–≥–æ:** OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ Phase 1) –∏ Google Maps API (Phase 2)

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –≤ [Google Cloud Console](https://console.cloud.google.com/)
2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å OAuth 2.0 Client ID
3. –í–∫–ª—é—á–∏—Ç—å Google Maps Platform (Geocoding API, Places API)
4. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å credentials:
   - `GOOGLE_CLIENT_ID`
   - `GOOGLE_CLIENT_SECRET`
   - `GOOGLE_MAPS_API_KEY`

**–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:**
- OAuth: –±–µ—Å–ø–ª–∞—Ç–Ω–æ
- Google Maps API: ~$200/–º–µ—Å—è—Ü (10k requests/day) –∏–ª–∏ ~$0 –ø–µ—Ä–≤—ã–µ 3 –º–µ—Å—è—Ü–∞ (Free tier: $200 credits)

---

### 2. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ SendGrid

**–î–ª—è —á–µ–≥–æ:** Email –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, password reset

**–°—Å—ã–ª–∫–∞:** https://sendgrid.com/

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ SendGrid
2. –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å sender email –∏–ª–∏ domain
3. –°–æ–∑–¥–∞—Ç—å API Key
4. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å credentials:
   - `SENDGRID_API_KEY`
   - `SENDGRID_FROM_EMAIL` (–Ω–∞–ø—Ä–∏–º–µ—Ä: noreply@hummii.ca)

**–ü–ª–∞–Ω:** Free tier (100 emails/day) - –±–æ–ª–µ–µ —á–µ–º –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –Ω–∞—á–∞–ª–∞

**–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:** $0/–º–µ—Å—è—Ü (Free), –ø–æ—Ç–æ–º $15/–º–µ—Å—è—Ü (–¥–æ 50k emails)

---

### 3. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Cloudflare R2 ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û –¥–ª—è Phase 2

**–î–ª—è —á–µ–≥–æ:** –•—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (–∞–≤–∞—Ç–∞—Ä—ã, –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ, —Ñ–æ—Ç–æ –∑–∞–∫–∞–∑–æ–≤) –∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (–ª–∏—Ü–µ–Ω–∑–∏–∏)

**–°—Å—ã–ª–∫–∞:** https://dash.cloudflare.com/sign-up

**–ü–æ—á–µ–º—É R2, –∞ –Ω–µ AWS S3:**
- ‚úÖ **–ù–µ—Ç –∫–æ–º–∏—Å—Å–∏–∏ –∑–∞ egress** (AWS S3 –±–µ—Ä–µ—Ç ~$0.09/GB –∑–∞ –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫)
- ‚úÖ **–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π CDN** (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ –≤—Å–µ–º—É –º–∏—Ä—É)
- ‚úÖ **S3-compatible API** (–∏—Å–ø–æ–ª—å–∑—É–µ–º —Ç–æ—Ç –∂–µ AWS SDK, –Ω–∏–∫–∞–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ)
- ‚úÖ **–î–µ—à–µ–≤–ª–µ:** $0.015/GB —Ö—Ä–∞–Ω–µ–Ω–∏—è vs AWS S3: $0.023/GB
- ‚úÖ **–≠–∫–æ–Ω–æ–º–∏—è:** ~$10-50/–º–µ—Å—è—Ü vs AWS S3 –ø—Ä–∏ —Ä–æ—Å—Ç–µ –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ https://dash.cloudflare.com
2. –í–∫–ª—é—á–∏—Ç—å R2 (–µ—Å—Ç—å Free tier: 10 GB –±–µ—Å–ø–ª–∞—Ç–Ω–æ)
3. –°–æ–∑–¥–∞—Ç—å bucket `hummii-production`
4. –°–æ–∑–¥–∞—Ç—å API token —Å –ø—Ä–∞–≤–∞–º–∏ "Object Read & Write"
5. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Public Access (–¥–ª—è –∞–≤–∞—Ç–∞—Ä–æ–≤ –∏ –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ)
6. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å credentials:
   - `R2_ENDPOINT` (https://<account_id>.r2.cloudflarestorage.com)
   - `R2_ACCESS_KEY_ID`
   - `R2_SECRET_ACCESS_KEY`
   - `R2_BUCKET_NAME`
   - `R2_PUBLIC_URL` (https://pub-<random>.r2.dev –∏–ª–∏ custom domain)

**–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è:** –°–º. `/docs/deployment/cloudflare-r2-setup.md` (—Å–æ–∑–¥–∞–Ω —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è —Ç–µ–±—è!)

**–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:**
- Free tier: 10 GB —Ö—Ä–∞–Ω–µ–Ω–∏—è, 1M Class A ops, 10M Class B ops
- –ü–æ—Å–ª–µ: ~$5-10/–º–µ—Å—è—Ü (–¥–ª—è 1000 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)
- **Egress: –í–°–ï–ì–î–ê $0** (–≥–ª–∞–≤–Ω–æ–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–æ!)

**–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:** 15-20 –º–∏–Ω—É—Ç

---

### 4. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ Stripe ‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û –¥–ª—è Phase 2 –∏ Phase 6

**–î–ª—è —á–µ–≥–æ:**
- **Phase 2:** Stripe Identity (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤ —Å Canadian –¥–æ–∫—É–º–µ–Ω—Ç–∞–º–∏)
- **Phase 6:** Payments (—ç—Å–∫—Ä–æ—É, –ø–æ–¥–ø–∏—Å–∫–∏, –≤—ã–ø–ª–∞—Ç—ã)

**–°—Å—ã–ª–∫–∞:** https://stripe.com/

**–ß—Ç–æ —Å–¥–µ–ª–∞—Ç—å:**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å Stripe Account (Canadian business)
2. –í–∫–ª—é—á–∏—Ç—å Test Mode (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å Stripe Identity –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤:
   - Driver's License
   - Passport
   - Provincial ID Card
4. –°–æ–∑–¥–∞—Ç—å webhook endpoints:
   - `/api/v1/webhooks/stripe/payment` (Phase 6)
   - `/api/v1/webhooks/stripe/verification` (Phase 2)
5. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–∏—Ç—å credentials:
   - `STRIPE_SECRET_KEY` (Test mode: `sk_test_...`)
   - `STRIPE_PUBLISHABLE_KEY` (Test mode: `pk_test_...`)
   - `STRIPE_WEBHOOK_SECRET` (–¥–ª—è payment webhooks)
   - `STRIPE_VERIFICATION_WEBHOOK_SECRET` (–¥–ª—è identity webhooks)

**–û—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–æ—á–Ω–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å:**
- Stripe Identity: $1.50 –∑–∞ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—é (—Ç–æ–ª—å–∫–æ —É—Å–ø–µ—à–Ω—ã–µ)
- Stripe Payments: 2.9% + $0.30 CAD –∑–∞ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—é
- –ü–æ–¥–ø–∏—Å–∫–∏: 2.9% + $0.30 CAD

---

## üìä –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π:

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–µ—Ä–≤–∏—Å | –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ | –î–ª—è –∫–∞–∫–æ–π —Ñ–∞–∑—ã |
|-----------|--------|-------------|----------------|
| üî¥ **–ö–†–ò–¢–ò–ß–ù–û** | Cloudflare R2 | **–°–µ–π—á–∞—Å** | Phase 2 (—Ñ–∞–π–ª—ã, –ø–æ—Ä—Ç—Ñ–æ–ª–∏–æ) |
| üî¥ **–ö–†–ò–¢–ò–ß–ù–û** | Stripe | **–°–µ–π—á–∞—Å** | Phase 2 (–≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è) |
| üî¥ **–ö–†–ò–¢–ò–ß–ù–û** | Google Maps API | **–°–µ–π—á–∞—Å** | Phase 2 (–≥–µ–æ–ª–æ–∫–∞—Ü–∏—è) |
| üü° **–í–´–°–û–ö–ò–ô** | SendGrid | –≠—Ç–∞ –Ω–µ–¥–µ–ª—è | Phase 2 (email —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è) |
| üü° **–í–´–°–û–ö–ò–ô** | Google OAuth | –≠—Ç–∞ –Ω–µ–¥–µ–ª—è | Phase 1 (—É–∂–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ) |
| üü¢ **–°–†–ï–î–ù–ò–ô** | OneSignal | –ß–µ—Ä–µ–∑ 4-6 –Ω–µ–¥–µ–ª—å | Phase 8 (push notifications) |

---

## üì¶ –ß—Ç–æ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–æ–≤:

### Immediate (2 –Ω–µ–¥–µ–ª–∏ - Phase 2):
- ‚úÖ –ó–∞–≥—Ä—É–∑–∫–∞ –∞–≤–∞—Ç–∞—Ä–æ–≤ –∏ —Ñ–æ—Ç–æ –≤ Cloudflare R2
- ‚úÖ –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª–∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ—Ä–æ–≤
- ‚úÖ –ü–æ—Ä—Ç—Ñ–æ–ª–∏–æ (–¥–æ 10 —Ä–∞–±–æ—Ç —Å —Ñ–æ—Ç–æ)
- ‚úÖ –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ (Stripe Identity)
- ‚úÖ –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –ø–æ —Ä–∞–¥–∏—É—Å—É (Google Maps + PostGIS)
- ‚úÖ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π CLIENT ‚Üî CONTRACTOR

### Next (2 –Ω–µ–¥–µ–ª–∏ –ø–æ—Å–ª–µ Phase 2 - Phase 3):
- ‚úÖ Orders Module (—Å–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–æ–≤, –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è)
- ‚úÖ Real-time —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ Geospatial search

---

## üìù –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏:

### –ú–∏–≥—Ä–∞—Ü–∏—è —Å AWS S3 –Ω–∞ Cloudflare R2:
- ‚úÖ –í—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞
- ‚úÖ –ö–æ–¥ backend –≥–æ—Ç–æ–≤ (S3-compatible API)
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Å–æ–∑–¥–∞–Ω—ã
- ‚úÖ Environment variables –æ–±–Ω–æ–≤–ª–µ–Ω—ã
- ‚è≥ –û–∂–∏–¥–∞–µ–º —Ç–≤–æ–∏ R2 credentials –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å credentials:
- –ò—Å–ø–æ–ª—å–∑—É–π **1Password**, **LastPass** –∏–ª–∏ –∞–Ω–∞–ª–æ–≥ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è
- **–ù–µ –æ—Ç–ø—Ä–∞–≤–ª—è–π** credentials –≤ plain text —á–µ—Ä–µ–∑ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä—ã
- –õ—É—á—à–∏–π —Å–ø–æ—Å–æ–±: 1Password Secure Share –∏–ª–∏ –∞–Ω–∞–ª–æ–≥

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. ‚úÖ –¢—ã —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—à—å—Å—è –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö
2. ‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è–µ—à—å credentials —á–µ—Ä–µ–∑ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∫–∞–Ω–∞–ª
3. ‚úÖ –Ø –æ–±–Ω–æ–≤–ª—è—é backend configuration
4. ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
5. ‚úÖ –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º Phase 2 implementation

---

**–í–æ–ø—Ä–æ—Å—ã?** –ì–æ—Ç–æ–≤ –ø–æ–º–æ—á—å —Å –Ω–∞—Å—Ç—Ä–æ–π–∫–æ–π –ª—é–±–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞!

**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤–æ –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é  
**–°–æ–∑–¥–∞–Ω–æ:** 3 –Ω–æ—è–±—Ä—è 2025

