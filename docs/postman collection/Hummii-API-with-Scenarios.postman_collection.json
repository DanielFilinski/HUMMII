{
	"info": {
		"_postman_id": "hummii-api-collection-scenarios-2025",
		"name": "Hummii API - With Test Scenarios",
		"description": "Complete API collection for Hummii platform with automated test scenarios\n\nFeatures:\n- üéØ **Test Scenarios** - Run complete user flows in one click\n- üîÑ Automated variable management\n- ‚úÖ Built-in test assertions\n- üìä Comprehensive coverage\n\n**Quick Start:**\n1. Select environment: 'Hummii API - Local'\n2. Go to 'Test Scenarios' folder\n3. Right-click any scenario ‚Üí 'Run folder'\n4. Watch tests execute automatically\n\n**Available Scenarios:**\n- Complete User Journey (Registration ‚Üí Verification ‚Üí Login ‚Üí Profile)\n- Order Lifecycle (Create ‚Üí Publish ‚Üí Proposal ‚Üí Accept ‚Üí Complete)\n- Contractor Setup (Profile ‚Üí Portfolio ‚Üí Subscription)\n- Subscription Management (Create ‚Üí Upgrade ‚Üí Downgrade ‚Üí Cancel)\n- Review System (Order ‚Üí Complete ‚Üí Review ‚Üí Response)\n- Dispute Flow (Create ‚Üí Evidence ‚Üí Messages ‚Üí Resolution)\n\nAll existing individual endpoints are preserved in their original folders.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "hummii-api-scenarios"
	},
	"item": [
		{
			"name": "üéØ Test Scenarios",
			"description": "Complete test scenarios that can be run in one click. Each scenario is a series of related API calls that test a complete user flow.",
			"item": [
				{
					"name": "üöÄ Quick Health Check",
					"description": "Quick validation that API is running and responding correctly",
					"item": [
						{
							"name": "Health Check",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"API is healthy\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql('ok');",
											"});",
											"",
											"console.log('‚úÖ API Health Check: PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/health",
									"host": ["{{base_url}}"],
									"path": ["health"]
								}
							}
						},
						{
							"name": "Get API Version",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Version info available\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData).to.have.property('version');",
											"});",
											"",
											"console.log('‚úÖ API Version Check: PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/version",
									"host": ["{{base_url}}"],
									"path": ["version"]
								}
							}
						}
					]
				},
				{
					"name": "üë§ Complete User Journey",
					"description": "Full user registration ‚Üí verification ‚Üí login ‚Üí profile update flow. Run this to test the complete authentication cycle.",
					"item": [
						{
							"name": "1. Register New User",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"User registered successfully\", function () {",
											"    pm.response.to.have.status(201);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData).to.have.property('id');",
											"    pm.expect(jsonData).to.have.property('email');",
											"    ",
											"    // Save for next requests",
											"    pm.environment.set('test_user_id', jsonData.id);",
											"    pm.environment.set('test_user_email', jsonData.email);",
											"});",
											"",
											"console.log('‚úÖ Step 1: User Registration - PASSED');"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"// Generate unique email for testing",
											"const timestamp = Date.now();",
											"const testEmail = `test.user.${timestamp}@example.com`;",
											"pm.environment.set('test_email', testEmail);",
											"",
											"console.log('üé¨ Starting User Journey Scenario...');",
											"console.log('üìß Generated test email:', testEmail);"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Test User Journey\",\n  \"email\": \"{{test_email}}\",\n  \"password\": \"SecurePass123!\",\n  \"phone\": \"+15551234567\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/register",
									"host": ["{{base_url}}"],
									"path": ["auth", "register"]
								}
							}
						},
						{
							"name": "2. Login User",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Login successful\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData).to.have.property('accessToken');",
											"    pm.expect(jsonData).to.have.property('refreshToken');",
											"    ",
											"    // Save tokens",
											"    pm.environment.set('access_token', jsonData.accessToken);",
											"    pm.environment.set('refresh_token', jsonData.refreshToken);",
											"});",
											"",
											"console.log('‚úÖ Step 2: User Login - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"{{test_email}}\",\n  \"password\": \"SecurePass123!\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login",
									"host": ["{{base_url}}"],
									"path": ["auth", "login"]
								}
							}
						},
						{
							"name": "3. Get User Profile",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Profile retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData.email).to.eql(pm.environment.get('test_email'));",
											"});",
											"",
											"console.log('‚úÖ Step 3: Get Profile - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/users/me",
									"host": ["{{base_url}}"],
									"path": ["users", "me"]
								}
							}
						},
						{
							"name": "4. Update Profile",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Profile updated\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData.bio).to.exist;",
											"});",
											"",
											"console.log('‚úÖ Step 4: Update Profile - PASSED');",
											"console.log('üéâ Complete User Journey - ALL TESTS PASSED!');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"bio\": \"Updated bio from test scenario\",\n  \"location\": \"Toronto, ON\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/users/me",
									"host": ["{{base_url}}"],
									"path": ["users", "me"]
								}
							}
						}
					]
				},
				{
					"name": "üì¶ Order Lifecycle",
					"description": "Complete order flow: Create ‚Üí Publish ‚Üí Proposal ‚Üí Accept ‚Üí Complete ‚Üí Review",
					"item": [
						{
							"name": "1. Login as Client",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"console.log('üé¨ Starting Order Lifecycle Scenario...');"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Client logged in\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.environment.set('client_token', jsonData.accessToken);",
											"});",
											"",
											"console.log('‚úÖ Step 1: Client Login - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"{{test_email}}\",\n  \"password\": \"SecurePass123!\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login",
									"host": ["{{base_url}}"],
									"path": ["auth", "login"]
								}
							}
						},
						{
							"name": "2. Create Order (Draft)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Order created\", function () {",
											"    pm.response.to.have.status(201);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql('DRAFT');",
											"    pm.environment.set('test_order_id', jsonData.id);",
											"});",
											"",
											"console.log('‚úÖ Step 2: Order Created - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{client_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"title\": \"Test Order - Plumbing Service\",\n  \"description\": \"Need emergency plumbing repair\",\n  \"budget\": 500,\n  \"location\": \"123 Test St, Toronto, ON\",\n  \"deadline\": \"2025-12-31T23:59:59Z\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/orders",
									"host": ["{{base_url}}"],
									"path": ["orders"]
								}
							}
						},
						{
							"name": "3. Publish Order",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Order published\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql('OPEN');",
											"});",
											"",
											"console.log('‚úÖ Step 3: Order Published - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{client_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/orders/{{test_order_id}}/publish",
									"host": ["{{base_url}}"],
									"path": ["orders", "{{test_order_id}}", "publish"]
								}
							}
						},
						{
							"name": "4. Submit Proposal (as Contractor)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Proposal submitted\", function () {",
											"    pm.response.to.have.status(201);",
											"    const jsonData = pm.response.json();",
											"    pm.environment.set('test_proposal_id', jsonData.id);",
											"});",
											"",
											"console.log('‚úÖ Step 4: Proposal Submitted - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"price\": 450,\n  \"description\": \"I can complete this plumbing job within 2 days\",\n  \"estimatedDuration\": 2\n}"
								},
								"url": {
									"raw": "{{base_url}}/orders/{{test_order_id}}/proposals",
									"host": ["{{base_url}}"],
									"path": ["orders", "{{test_order_id}}", "proposals"]
								}
							}
						},
						{
							"name": "5. Accept Proposal (as Client)",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Proposal accepted\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql('ACCEPTED');",
											"});",
											"",
											"console.log('‚úÖ Step 5: Proposal Accepted - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{client_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/proposals/{{test_proposal_id}}/accept",
									"host": ["{{base_url}}"],
									"path": ["proposals", "{{test_proposal_id}}", "accept"]
								}
							}
						},
						{
							"name": "6. Mark Order Complete",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Order completed\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData.status).to.eql('COMPLETED');",
											"});",
											"",
											"console.log('‚úÖ Step 6: Order Completed - PASSED');",
											"console.log('üéâ Order Lifecycle - ALL TESTS PASSED!');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{client_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"status\": \"COMPLETED\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/orders/{{test_order_id}}/status",
									"host": ["{{base_url}}"],
									"path": ["orders", "{{test_order_id}}", "status"]
								}
							}
						}
					]
				},
				{
					"name": "üèóÔ∏è Contractor Setup",
					"description": "Complete contractor onboarding: Profile ‚Üí Portfolio ‚Üí Categories ‚Üí Subscription",
					"item": [
						{
							"name": "1. Login as Contractor",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"console.log('üé¨ Starting Contractor Setup Scenario...');"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Contractor logged in\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.environment.set('contractor_token', jsonData.accessToken);",
											"});",
											"",
											"console.log('‚úÖ Step 1: Contractor Login - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"{{test_email}}\",\n  \"password\": \"SecurePass123!\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login",
									"host": ["{{base_url}}"],
									"path": ["auth", "login"]
								}
							}
						},
						{
							"name": "2. Create Contractor Profile",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Profile created\", function () {",
											"    pm.response.to.have.status(201);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData).to.have.property('id');",
											"    pm.environment.set('contractor_id', jsonData.id);",
											"});",
											"",
											"console.log('‚úÖ Step 2: Contractor Profile Created - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{contractor_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"businessName\": \"Test Plumbing Services\",\n  \"description\": \"Professional plumbing services in Toronto\",\n  \"yearsOfExperience\": 10,\n  \"location\": {\n    \"city\": \"Toronto\",\n    \"province\": \"ON\",\n    \"postalCode\": \"M5V 3A8\"\n  }\n}"
								},
								"url": {
									"raw": "{{base_url}}/contractors/me",
									"host": ["{{base_url}}"],
									"path": ["contractors", "me"]
								}
							}
						},
						{
							"name": "3. Add Portfolio Item",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Portfolio item added\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"console.log('‚úÖ Step 3: Portfolio Added - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{contractor_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"title\": \"Kitchen Renovation\",\n  \"description\": \"Complete kitchen plumbing renovation\",\n  \"completionDate\": \"2024-06-15\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/contractors/me/portfolio",
									"host": ["{{base_url}}"],
									"path": ["contractors", "me", "portfolio"]
								}
							}
						},
						{
							"name": "4. Create Subscription",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Subscription created\", function () {",
											"    pm.response.to.have.status(201);",
											"    const jsonData = pm.response.json();",
											"    pm.environment.set('subscription_id', jsonData.id);",
											"});",
											"",
											"console.log('‚úÖ Step 4: Subscription Created - PASSED');",
											"console.log('üéâ Contractor Setup - ALL TESTS PASSED!');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{contractor_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"tier\": \"PREMIUM\",\n  \"paymentMethodId\": \"pm_test_card\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/subscriptions",
									"host": ["{{base_url}}"],
									"path": ["subscriptions"]
								}
							}
						}
					]
				},
				{
					"name": "üíé Subscription Management",
					"description": "Test subscription lifecycle: Create ‚Üí Upgrade ‚Üí Downgrade ‚Üí Cancel ‚Üí Reactivate",
					"item": [
						{
							"name": "1. Login User",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"console.log('üé¨ Starting Subscription Management Scenario...');"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"User logged in\", function () {",
											"    pm.response.to.have.status(200);",
											"    pm.environment.set('access_token', pm.response.json().accessToken);",
											"});",
											"",
											"console.log('‚úÖ Step 1: Login - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"{{test_email}}\",\n  \"password\": \"SecurePass123!\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login",
									"host": ["{{base_url}}"],
									"path": ["auth", "login"]
								}
							}
						},
						{
							"name": "2. Get Current Subscription",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Subscription retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    if (jsonData.id) {",
											"        pm.environment.set('subscription_id', jsonData.id);",
											"    }",
											"});",
											"",
											"console.log('‚úÖ Step 2: Get Subscription - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/subscriptions/me",
									"host": ["{{base_url}}"],
									"path": ["subscriptions", "me"]
								}
							}
						},
						{
							"name": "3. Upgrade to ELITE",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Upgraded successfully\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData.tier).to.eql('ELITE');",
											"});",
											"",
											"console.log('‚úÖ Step 3: Upgrade to ELITE - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"tier\": \"ELITE\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/subscriptions/upgrade",
									"host": ["{{base_url}}"],
									"path": ["subscriptions", "upgrade"]
								}
							}
						},
						{
							"name": "4. Cancel Subscription",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Subscription cancelled\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"console.log('‚úÖ Step 4: Cancel Subscription - PASSED');",
											"console.log('üéâ Subscription Management - ALL TESTS PASSED!');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/subscriptions/cancel",
									"host": ["{{base_url}}"],
									"path": ["subscriptions", "cancel"]
								}
							}
						}
					]
				},
				{
					"name": "‚≠ê Review System Flow",
					"description": "Complete review flow: Order completion ‚Üí Create review ‚Üí Contractor responds",
					"item": [
						{
							"name": "1. Login as Client",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"console.log('üé¨ Starting Review System Scenario...');"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Client logged in\", function () {",
											"    pm.response.to.have.status(200);",
											"    pm.environment.set('client_token', pm.response.json().accessToken);",
											"});",
											"",
											"console.log('‚úÖ Step 1: Client Login - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"{{test_email}}\",\n  \"password\": \"SecurePass123!\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login",
									"host": ["{{base_url}}"],
									"path": ["auth", "login"]
								}
							}
						},
						{
							"name": "2. Create Review",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Review created\", function () {",
											"    pm.response.to.have.status(201);",
											"    const jsonData = pm.response.json();",
											"    pm.environment.set('review_id', jsonData.id);",
											"});",
											"",
											"console.log('‚úÖ Step 2: Review Created - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{client_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"orderId\": \"{{test_order_id}}\",\n  \"contractorId\": \"{{contractor_id}}\",\n  \"rating\": 5,\n  \"comment\": \"Excellent service! Very professional and completed on time.\",\n  \"categories\": [\"quality\", \"communication\", \"timeliness\"]\n}"
								},
								"url": {
									"raw": "{{base_url}}/reviews",
									"host": ["{{base_url}}"],
									"path": ["reviews"]
								}
							}
						},
						{
							"name": "3. Get Review Details",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Review retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData.rating).to.eql(5);",
											"});",
											"",
											"console.log('‚úÖ Step 3: Get Review - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{client_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/reviews/{{review_id}}",
									"host": ["{{base_url}}"],
									"path": ["reviews", "{{review_id}}"]
								}
							}
						},
						{
							"name": "4. Contractor Responds to Review",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Response added\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"console.log('‚úÖ Step 4: Contractor Response - PASSED');",
											"console.log('üéâ Review System - ALL TESTS PASSED!');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{contractor_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"response\": \"Thank you for your kind words! It was a pleasure working with you.\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/reviews/{{review_id}}/response",
									"host": ["{{base_url}}"],
									"path": ["reviews", "{{review_id}}", "response"]
								}
							}
						}
					]
				},
				{
					"name": "‚öñÔ∏è Dispute Resolution Flow",
					"description": "Test dispute handling: Create ‚Üí Upload evidence ‚Üí Messages ‚Üí Resolution",
					"item": [
						{
							"name": "1. Login as Client",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"console.log('üé¨ Starting Dispute Resolution Scenario...');"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Client logged in\", function () {",
											"    pm.response.to.have.status(200);",
											"    pm.environment.set('client_token', pm.response.json().accessToken);",
											"});",
											"",
											"console.log('‚úÖ Step 1: Client Login - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"{{test_email}}\",\n  \"password\": \"SecurePass123!\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login",
									"host": ["{{base_url}}"],
									"path": ["auth", "login"]
								}
							}
						},
						{
							"name": "2. Create Dispute",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Dispute created\", function () {",
											"    pm.response.to.have.status(201);",
											"    const jsonData = pm.response.json();",
											"    pm.environment.set('dispute_id', jsonData.id);",
											"});",
											"",
											"console.log('‚úÖ Step 2: Dispute Created - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{client_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"orderId\": \"{{test_order_id}}\",\n  \"reason\": \"QUALITY_ISSUE\",\n  \"description\": \"The work was not completed according to specifications\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/disputes",
									"host": ["{{base_url}}"],
									"path": ["disputes"]
								}
							}
						},
						{
							"name": "3. Add Message to Dispute",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Message added\", function () {",
											"    pm.response.to.have.status(201);",
											"});",
											"",
											"console.log('‚úÖ Step 3: Message Added - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{client_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"message\": \"I have photos showing the issues with the work\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/disputes/{{dispute_id}}/messages",
									"host": ["{{base_url}}"],
									"path": ["disputes", "{{dispute_id}}", "messages"]
								}
							}
						},
						{
							"name": "4. Get Dispute Details",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Dispute details retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData.id).to.eql(pm.environment.get('dispute_id'));",
											"});",
											"",
											"console.log('‚úÖ Step 4: Get Dispute Details - PASSED');",
											"console.log('üéâ Dispute Resolution - ALL TESTS PASSED!');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{client_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/disputes/{{dispute_id}}",
									"host": ["{{base_url}}"],
									"path": ["disputes", "{{dispute_id}}"]
								}
							}
						}
					]
				},
				{
					"name": "üí¨ Chat Flow",
					"description": "Test chat functionality: Send ‚Üí Edit ‚Üí Mark read ‚Üí Export",
					"item": [
						{
							"name": "1. Login User",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"console.log('üé¨ Starting Chat Flow Scenario...');"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"User logged in\", function () {",
											"    pm.response.to.have.status(200);",
											"    pm.environment.set('access_token', pm.response.json().accessToken);",
											"});",
											"",
											"console.log('‚úÖ Step 1: Login - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"{{test_email}}\",\n  \"password\": \"SecurePass123!\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login",
									"host": ["{{base_url}}"],
									"path": ["auth", "login"]
								}
							}
						},
						{
							"name": "2. Send Message",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Message sent\", function () {",
											"    pm.response.to.have.status(201);",
											"    const jsonData = pm.response.json();",
											"    pm.environment.set('message_id', jsonData.id);",
											"});",
											"",
											"console.log('‚úÖ Step 2: Message Sent - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"content\": \"Hello! I have a question about the project timeline.\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/chat/{{test_order_id}}/messages",
									"host": ["{{base_url}}"],
									"path": ["chat", "{{test_order_id}}", "messages"]
								}
							}
						},
						{
							"name": "3. Get Messages",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Messages retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData).to.be.an('array');",
											"});",
											"",
											"console.log('‚úÖ Step 3: Get Messages - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/chat/{{test_order_id}}/messages",
									"host": ["{{base_url}}"],
									"path": ["chat", "{{test_order_id}}", "messages"]
								}
							}
						},
						{
							"name": "4. Mark Messages as Read",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Messages marked as read\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"console.log('‚úÖ Step 4: Mark as Read - PASSED');",
											"console.log('üéâ Chat Flow - ALL TESTS PASSED!');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/chat/{{test_order_id}}/mark-read",
									"host": ["{{base_url}}"],
									"path": ["chat", "{{test_order_id}}", "mark-read"]
								}
							}
						}
					]
				},
				{
					"name": "üîî Notifications Flow",
					"description": "Test notifications: Get notifications ‚Üí Mark read ‚Üí Update preferences",
					"item": [
						{
							"name": "1. Login User",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"console.log('üé¨ Starting Notifications Flow Scenario...');"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"User logged in\", function () {",
											"    pm.response.to.have.status(200);",
											"    pm.environment.set('access_token', pm.response.json().accessToken);",
											"});",
											"",
											"console.log('‚úÖ Step 1: Login - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"{{test_email}}\",\n  \"password\": \"SecurePass123!\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login",
									"host": ["{{base_url}}"],
									"path": ["auth", "login"]
								}
							}
						},
						{
							"name": "2. Get Notifications",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Notifications retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData).to.have.property('data');",
											"});",
											"",
											"console.log('‚úÖ Step 2: Get Notifications - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/notifications",
									"host": ["{{base_url}}"],
									"path": ["notifications"]
								}
							}
						},
						{
							"name": "3. Get Unread Count",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Unread count retrieved\", function () {",
											"    pm.response.to.have.status(200);",
											"    const jsonData = pm.response.json();",
											"    pm.expect(jsonData).to.have.property('count');",
											"});",
											"",
											"console.log('‚úÖ Step 3: Get Unread Count - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/notifications/unread-count",
									"host": ["{{base_url}}"],
									"path": ["notifications", "unread-count"]
								}
							}
						},
						{
							"name": "4. Mark All as Read",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"All marked as read\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"console.log('‚úÖ Step 4: Mark All Read - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									}
								],
								"url": {
									"raw": "{{base_url}}/notifications/mark-all-read",
									"host": ["{{base_url}}"],
									"path": ["notifications", "mark-all-read"]
								}
							}
						},
						{
							"name": "5. Update Preferences",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Preferences updated\", function () {",
											"    pm.response.to.have.status(200);",
											"});",
											"",
											"console.log('‚úÖ Step 5: Update Preferences - PASSED');",
											"console.log('üéâ Notifications Flow - ALL TESTS PASSED!');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "PATCH",
								"header": [
									{
										"key": "Authorization",
										"value": "Bearer {{access_token}}"
									},
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": true,\n  \"push\": true,\n  \"sms\": false\n}"
								},
								"url": {
									"raw": "{{base_url}}/notifications/preferences",
									"host": ["{{base_url}}"],
									"path": ["notifications", "preferences"]
								}
							}
						}
					]
				},
				{
					"name": "üîê Security & Error Handling",
					"description": "Test security measures and error responses: Unauthorized access, validation errors, rate limiting",
					"item": [
						{
							"name": "1. Access Protected Route (Unauthorized)",
							"event": [
								{
									"listen": "prerequest",
									"script": {
										"exec": [
											"console.log('üé¨ Starting Security & Error Handling Scenario...');"
										],
										"type": "text/javascript"
									}
								},
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Returns 401 Unauthorized\", function () {",
											"    pm.response.to.have.status(401);",
											"});",
											"",
											"console.log('‚úÖ Step 1: Unauthorized Access - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "GET",
								"header": [],
								"url": {
									"raw": "{{base_url}}/users/me",
									"host": ["{{base_url}}"],
									"path": ["users", "me"]
								}
							}
						},
						{
							"name": "2. Invalid Email Format",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Returns 400 Bad Request\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"console.log('‚úÖ Step 2: Invalid Email - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Test\",\n  \"email\": \"invalid-email\",\n  \"password\": \"SecurePass123!\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/register",
									"host": ["{{base_url}}"],
									"path": ["auth", "register"]
								}
							}
						},
						{
							"name": "3. Weak Password",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Returns 400 Bad Request\", function () {",
											"    pm.response.to.have.status(400);",
											"});",
											"",
											"console.log('‚úÖ Step 3: Weak Password - PASSED');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"name\": \"Test\",\n  \"email\": \"test@example.com\",\n  \"password\": \"123\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/register",
									"host": ["{{base_url}}"],
									"path": ["auth", "register"]
								}
							}
						},
						{
							"name": "4. Wrong Password",
							"event": [
								{
									"listen": "test",
									"script": {
										"exec": [
											"pm.test(\"Returns 401 Unauthorized\", function () {",
											"    pm.response.to.have.status(401);",
											"});",
											"",
											"console.log('‚úÖ Step 4: Wrong Password - PASSED');",
											"console.log('üéâ Security & Error Handling - ALL TESTS PASSED!');"
										],
										"type": "text/javascript"
									}
								}
							],
							"request": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"email\": \"{{test_email}}\",\n  \"password\": \"WrongPassword123!\"\n}"
								},
								"url": {
									"raw": "{{base_url}}/auth/login",
									"host": ["{{base_url}}"],
									"path": ["auth", "login"]
								}
							}
						}
					]
				}
			]
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://localhost:3000/api/v1",
			"type": "string"
		},
		{
			"key": "access_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "test_email",
			"value": "",
			"type": "string"
		},
		{
			"key": "test_user_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "test_order_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "test_proposal_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "contractor_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "subscription_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "review_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "dispute_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "message_id",
			"value": "",
			"type": "string"
		},
		{
			"key": "client_token",
			"value": "",
			"type": "string"
		},
		{
			"key": "contractor_token",
			"value": "",
			"type": "string"
		}
	]
}
